##后台接口文档Auther：Harry ZhuVersion：v2.0Date： July 16，2015### 一、用户验证模块1. 验证码服务：/verify_phone/  请求：POST  参数：  1. phone （前端验证手机号码有效性）      #手机号  返回状态：  1. 成功发送，该用户尚未使用该系统，且尚未注册  2. 成功发送，该用户曾经使用该系统，但尚未注册  3. 成功发送，该用户已经注册，该用户忘记密码 （forget_password)  4. 拒绝发送，该用户已经注册，不能重复注册（signup)  5. 当日发送数量达到上限2. 手机注册接口：/signup/  请求：POST  参数：  1. phone                            #手机号  2. password1                        #密码1  3. password2                        #密码2  4. verified_code                    #验证码  5. current_page   {signup}          #当前页面类型（hidden）  返回状态：  1. 成功注册：  2. 注册失败，用户已经注册：  3. 密码不一致或（密码违规，前端检验）  4. 验证码不正确3. 忘记密码再登陆：/forget_password/  请求：POST  参数：  1. phone                           #手机号  2. verified_code                   #验证码  3. password                        #密码  4. current_page  {forget_password} #当前页面类型 （hidden）  返回状态：  1. 找回密码成功，返回新密码  2. 验证码错误  3. 手机未注册4. 微信注册登陆：/auth/wechat/  请求：POST  参数：5. 微博注册登陆: /auth/weibo/  请求：POST  参数：6. 手机登陆接口:/login/  请求：POST  参数：  1. phone                             #手机号  2. password                          #密码  返回：  1. 登陆成功  2. 登陆失败，手机号或密码不正确，请重新输入，忘记请找回。7. 登出接口:/logout/  请求：GET### 二、推荐系统模块1. 推荐专辑列表:/albums/  请求：GET  参数：  返回值：  1. entity_id(type==album)           #专辑实体ID  2. album_owner                      #摄影师ID  3. album_publish_datetime           #发布日期、时间  4. album_name                       #专辑名称  5. album_liked_number               #点赞数量  6. album_forwarded_number           #转发数量  7. album_commented_number           #评论数量  8. album_tag                        #专辑类型  9. album_face                       #专辑封面  10. album_images                    #专辑其余图片  11. album_order                     #专辑展示排序2. 推荐用户列表:/users/  请求：GET  参数：  返回值：  1. entity_id(type==user)            #摄影师实体ID  2. user_name                        #摄影师名称  3. user_bio                         #摄影师简介  4. user_face                        #摄影师头像  5. user_title                       #摄影师评级（默认：千刻注册摄影师）  6. user_order                       #摄影师排序3. 推荐活动列表:/events/  请求：GET  参数：  返回值：  1. entity_id(type==event)           #活动实体ID  2. event_name                       #活动名称  3. event_face                       #活动封面  4. event_order                      #活动排序  ### 三、详情模块  *** 需要用户登录 ***1. 大图模式:/{img_url}                 [七牛云服务] 前端：下载图片+举报功能  请求：GET  参数：  返回值：  1. image                            #图像地址  2. owner                            #所有者  3. is_illegal                       #是否合法举报图片（选项：非法图片、版权争议），举报人、2. 专辑详情：/album/{entity_id}  请求：GET  参数：  返回值：  1. album_name                       #专辑名称  2. album_face                       #专辑封面  3. album_images                     #专辑其余图片  4. album_introduction               #专辑简介  5. album_tag                        #专辑标签  6. album_commented_number           #专辑评论总数3. 活动详情:/event/{entity_id}  请求：GET  参数：  返回值：  1. event_background                 #活动背景图  2. event_name                       #活动名称  3. event_introduction               #活动介绍  4. event_album                      #用户专辑  5. event_album_order                #用户专辑排序  5. event_joined_number              #参与人数  6. event_album_number               #活动总上传专辑数（允许一张专辑只包含一张图片）  7. event_expired_datetime           #活动截止日期时间  8. event_begin_datetime             #活动开始日期时间4. 用户详情:/profile/{entity_id}  请求： GET  参数：  返回值：  1. user_name                        #摄影师名称  2. user_face                        #摄影师头像  3. user_photo_number                #摄影师总图片数量  4. user_followed_number             #摄影师总粉丝数  5. user_following_number            #摄影师总关注数  6. user_backgroud                   #摄影师资料背景图  7. album_face                       #各专辑封面  8. album_name                       #各专辑名称  9. album_photo_number               #各专辑图片总数### 四、产出内容模块   *** 需要用户登录 ***  单张专辑一次最多9张图片1. 图片上传:/api/upload_token/  请求：POST  参数：  1. entity_id(type==album|event|user) #所有者类型ID  返回值：  1. upload_token                      #七牛token  2. img_version                       #图片版本序列2. 专辑发布:/album_create/  请求：POST  参数：  1. entity_id(type==album)           #专辑ID  2. album_owner                      #专辑所有者ID  3. album_introduction               #专辑介绍  4. album_tag                        #专辑标签  5. album_publish_datetime           #专辑发布时间  6. album_face                       #专辑封面  7. album_images                     #专辑图片3. 专辑编辑:/api/album  请求：POST  参数：  1. album_images_new                  #专辑照片新序列  3. album_bio                         #编辑专辑简介  4. album_name                        #编辑专辑名称  5. album_face                        #编辑封面3. 个人信息编辑：/api/profile/  请求：POST  参数：  1. user_name                         #用户名  2. user_bio                          #个人介绍  3. user_face                         #个人头像  4. user_backgroud                    #背景图片### 五、社交消息中心模块1. 专辑点赞：/api/like/  请求：POST  参数：  1. user_id                          #点赞用户ID  2. album_id                         #被点赞专辑ID2. 取消专辑点赞:/api/unlike/  请求：POST  参数：  1. user_id                          #取消点赞用户ID  2. album_id                         #取消点赞专辑ID3. 活动参与:/api/join/  请求：POST  参数：  1. user_id                         #参与用户ID  2. event_id                        #活动ID4. 取消活动参与:/api/unjoin/  请求：POST  参数：  1. user_id                        #取消参与用户ID  2. event_id                       #活动ID5. 关注其他摄影师:/api/follow/  请求：POST  参数：  1. followed_id                    #受关注的摄影师ID  2. following_id                   #围观群众ID6. 取消关注其他摄影师:/api/unfollow/  请求：POST  参数：  1.unfollowed_id                   #受冷落的摄影师ID  2.unfollowing_id                  #围观群众ID7. 专辑转发到社交网络:/api/share/            ***朋友圈|微信好友|微博|其他***  请求：POST  参数：8. 举报非法专辑:/api/report  请求：POST  参数：  1. reporter                   #投诉人ID （entity_id(type==user)）  2. suspect                    #嫌疑人ID （entity_id(type==user)）  3. image                      #嫌疑照片URL  4. report_reason              #举报理由：非法图片、版权争议  5. report_datetime            #举报日期时间  返回值：  1. report_id                  #产生的举报ID  2. reprot_status              #举报成功或失败9. 投诉建议:/api/complaint  请求：POST  参数：  1. entity_id                  #当前投诉人ID  2. complaint_content          #投诉内容  3. complaint_datetime         #投诉时间  返回值：  1. complaint_id               #产生的投诉ID  2. complaint_status           #投诉成功或失败10. 消息通知推送:/api/message  请求：GET  参数：  1. message_type              #推送内容类型{摄影获奖信息、举报|投诉反馈信息、新点赞|关注数量信息、后台编辑自定义}  2. message_name              #推送信息名称  3. message_content           #推送信息内容  4. message_template          #推送信息模板  推送举例如下：  1. 您的专辑 {{album_name}}又获得 {{ new_like_number }} 个新的点赞;  2. 感谢您的举报，举报编号为{{ report_id }}，您的举报信息正在受理中，请您耐心等待;  3. 恭喜您获得{{ event_name }} 大赛的一等奖，奖品正在派送中！  4. 您的专辑 {{album_name}}有 {{ new_comment_number }} 个新的评论;  5. 感谢您的投诉，投诉编号为{{ complaint_id }}，您的投诉建议正在受理中;  6. {{ event_name}} 还有{{event_expired_datetime}}即将结束，快来参与赢取精美奖品吧！  7. 已成功举报{{ report_id }},图片/专辑{{ image_name|album_name }}已经成功下架！  7. 很可惜，您的举报{{ report_id }}失败，如仍需举报，请提供更多信息，谢谢合作！